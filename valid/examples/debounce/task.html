<HTML>
<HEAD>
<TITLE>VALID Example Debounce: Task and Model Description</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1252">
</HEAD>

<BODY BGCOLOR="WHITE" LINK="BLUE" VLINK="PURPLE">

<H1>VALID Example: Debounce</H1>

<H2>Task Description</H2>

<P>The <EM>debounce</EM> example describes a simple debouncing circuit,
which observes all changes of a binary sensor, filters them, and reports
those changes which appear to have been stable for a sufficiently long
time.</P>

<P>The debouncing circuit receives an input event <CODE>new_value</CODE>,
whenever the value of the binary input signal changes. Its task consists of
sending an output event <CODE>chg_value</CODE> when it detects a change
that has been stable for <EM>T</EM>&nbsp;units of time. This is the case,
if the sensor value has been constant for <EM>T</EM>&nbsp;units of time,
and the sensor value is different from the last stable value.</P>

<P ALIGN=CENTER>
<IMG SRC="debouncing_diagram.gif" WIDTH=473 HEIGHT=161 ALT="Debouncing">
</P>

<P>In order to achieve its task, the debouncing circuit uses a simple
<EM>timer</EM> device, represented by the plant automaton
<CODE>timer</CODE> shown below. The timer is started by means of the
controllable event <CODE>timer.1</CODE>. Once running, it can be reset by
means of the controllable event <CODE>reset.1</CODE>. If it is left running
for <EM>T</EM>&nbsp;units of time, it stops and raises the uncontrollable
event <CODE>timeout.1</CODE>.</P>

<TABLE ALIGN=CENTER BORDER=3>
<TR>
<TD ALIGN=CENTER><IMG SRC="debounce_timer.gif" WIDTH=152 HEIGHT=93
  ALT="Plant timer"></TD>
</TR>
<TR>
<TH ALIGN=CENTER>Plant <CODE>timer</CODE></TH>
</TR>
</TABLE>

<H2>Model Description</H2>

<P>The specification automaton <CODE>debouncing</CODE> shown below is used to
coordinate the input signal and the timer, and generates the output signal
as requested.</P>

<TABLE ALIGN=CENTER BORDER=3>
<TR>
<TD ALIGN=CENTER><IMG SRC="debounce_spec.gif" WIDTH=204 HEIGHT=277
  ALT="Spec debouncing"></TD>
</TR>
<TR>
<TH ALIGN=CENTER>Spec <CODE>debouncing</CODE></TH>
</TR>
</TABLE>

<P>This automaton waits until a <CODE>new_value.1</CODE> input is detected.
Then it starts the timer, waits for a timeout, and afterwards reports a
<CODE>chg_value.1</CODE>. But if another <CODE>new_value.1</CODE> is
detected first, the automaton switches back to its initial state and resets
the timer. This is because an even number of changes of the binary input
value is equivalent to no change, and therefore is to be ignored. The
selfloops in state <CODE>INIT</CODE> and <CODE>FLIP</CODE> are needed to
ensure controllability and correct behaviour, if one or more value changes
are detected while the timer is running.</P>


<HR ALIGN=CENTER WIDTH="100%" SIZE="2">
<CENTER>
<IMG HEIGHT=40 WIDTH=40 ALT="Back" SRC="../left.gif"></A>
<A HREF="index.html"><IMG HEIGHT=40 WIDTH=40 ALT="Up" SRC="../up.gif"></A>
<A HREF="codegen.html"><IMG HEIGHT=40 WIDTH=40 ALT="Forward" 
  SRC="../right.gif"></A> 
</CENTER>
<HR ALIGN=CENTER WIDTH="100%" SIZE="2">

<P><FONT SIZE="-1">&copy;&nbsp;1998-2000, VALID Technologies.
<!-- hhmts start -->
Last Modification Date: 2000-06-19
<!-- hhmts end -->
</FONT></P>

</BODY>
</HTML>
