<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Module Name="flexible_man_sys" xmlns:ns2="http://waters.sourceforge.net/xsd/base" xmlns="http://waters.sourceforge.net/xsd/module">
    <ns2:Comment>Adapted from 'Multitasking Supervisory Control of Discrete Event Systems' by M.H. de Queiroz, J.E.R. Cury and W.M. Wonham (originally, the example appears to come from 'Applications of Petri Nets in Manufacturing Systems, Modeling, Control and Performance Analysis' by A.A. Desrochers and R.Y. Al-Jaar?). The original example has multi-colored marking, here, only the reversibility-marking is included. The system consists of a mill (M), a lathe (L), a painting device (P) and an assembly machine (A) connected by a robot (R), a conveyor (C3) and a set of one-place buffers (B3, B4, B5, B6, B7, B8). New products enter the cell on two additional conveyors (C1 and C2) with a one-place buffer each (B1 and B2). The flow of products in the cell is mainly directed by the robot and the buffer specifications. C1 supplies blocks and C2 supplies pegs, the end products are blocks with attached conical pegs (A) and blocks with cylindrical painted pegs (B). The blocks go through the mill and the pegs go through the lathe to be shaped and for cylindrical pegs also through the painting device.</ns2:Comment>
    <EventDeclList>
        <EventDecl Kind="PROPOSITION" Name=":accepting"/>
        <EventDecl Kind="PROPOSITION" Name=":forbidden"/>
        <EventDecl Kind="UNCONTROLLABLE" Name="f_A"/>
        <EventDecl Kind="UNCONTROLLABLE" Name="f_B"/>
        <EventDecl Kind="UNCONTROLLABLE" Name="f_LA"/>
        <EventDecl Kind="UNCONTROLLABLE" Name="f_LB"/>
        <EventDecl Kind="UNCONTROLLABLE" Name="f_M"/>
        <EventDecl Kind="UNCONTROLLABLE" Name="f_P"/>
        <EventDecl Kind="CONTROLLABLE" Name="i_C1"/>
        <EventDecl Kind="CONTROLLABLE" Name="i_C2"/>
        <EventDecl Kind="CONTROLLABLE" Name="i_C3"/>
        <EventDecl Kind="UNCONTROLLABLE" Name="l_B3"/>
        <EventDecl Kind="UNCONTROLLABLE" Name="l_B4"/>
        <EventDecl Kind="UNCONTROLLABLE" Name="l_B5"/>
        <EventDecl Kind="UNCONTROLLABLE" Name="l_B6"/>
        <EventDecl Kind="UNCONTROLLABLE" Name="l_B7"/>
        <EventDecl Kind="UNCONTROLLABLE" Name="l_B8"/>
        <EventDecl Kind="UNCONTROLLABLE" Name="o_C1"/>
        <EventDecl Kind="UNCONTROLLABLE" Name="o_C2"/>
        <EventDecl Kind="UNCONTROLLABLE" Name="o_C3"/>
        <EventDecl Kind="CONTROLLABLE" Name="s_LA"/>
        <EventDecl Kind="CONTROLLABLE" Name="s_LB"/>
        <EventDecl Kind="CONTROLLABLE" Name="s_M"/>
        <EventDecl Kind="CONTROLLABLE" Name="s_P"/>
        <EventDecl Kind="CONTROLLABLE" Name="u_B1"/>
        <EventDecl Kind="CONTROLLABLE" Name="u_B2"/>
        <EventDecl Kind="CONTROLLABLE" Name="u_B3"/>
        <EventDecl Kind="CONTROLLABLE" Name="u_B4A"/>
        <EventDecl Kind="CONTROLLABLE" Name="u_B4B"/>
        <EventDecl Kind="CONTROLLABLE" Name="u_B5"/>
        <EventDecl Kind="CONTROLLABLE" Name="u_B6"/>
        <EventDecl Kind="CONTROLLABLE" Name="u_B7"/>
        <EventDecl Kind="CONTROLLABLE" Name="u_B8"/>
    </EventDeclList>
    <ComponentList>
        <SimpleComponent Kind="SPEC" Name="B5">
            <Graph>
                <NodeList>
                    <SimpleNode Initial="true" Name="e">
                        <EventList>
                            <SimpleIdentifier Name=":accepting"/>
                        </EventList>
                    </SimpleNode>
                    <SimpleNode Name="f"/>
                </NodeList>
                <EdgeList>
                    <Edge Target="f" Source="e">
                        <LabelBlock>
                            <SimpleIdentifier Name="l_B5"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="e" Source="f">
                        <LabelBlock>
                            <SimpleIdentifier Name="u_B5"/>
                        </LabelBlock>
                    </Edge>
                </EdgeList>
            </Graph>
        </SimpleComponent>
        <SimpleComponent Kind="SPEC" Name="B4">
            <Graph>
                <NodeList>
                    <SimpleNode Initial="true" Name="e">
                        <EventList>
                            <SimpleIdentifier Name=":accepting"/>
                        </EventList>
                    </SimpleNode>
                    <SimpleNode Name="f"/>
                    <SimpleNode Name="fa"/>
                    <SimpleNode Name="fb"/>
                </NodeList>
                <EdgeList>
                    <Edge Target="f" Source="e">
                        <LabelBlock>
                            <SimpleIdentifier Name="l_B4"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="fa" Source="e">
                        <LabelBlock>
                            <SimpleIdentifier Name="f_LA"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="fb" Source="e">
                        <LabelBlock>
                            <SimpleIdentifier Name="f_LB"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="e" Source="f">
                        <LabelBlock>
                            <SimpleIdentifier Name="s_LA"/>
                            <SimpleIdentifier Name="s_LB"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="e" Source="fa">
                        <LabelBlock>
                            <SimpleIdentifier Name="u_B4A"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="e" Source="fb">
                        <LabelBlock>
                            <SimpleIdentifier Name="u_B4B"/>
                        </LabelBlock>
                    </Edge>
                </EdgeList>
            </Graph>
        </SimpleComponent>
        <SimpleComponent Kind="SPEC" Name="B3">
            <Graph>
                <NodeList>
                    <SimpleNode Initial="true" Name="e">
                        <EventList>
                            <SimpleIdentifier Name=":accepting"/>
                        </EventList>
                    </SimpleNode>
                    <SimpleNode Name="f1"/>
                    <SimpleNode Name="f2"/>
                </NodeList>
                <EdgeList>
                    <Edge Target="f1" Source="e">
                        <LabelBlock>
                            <SimpleIdentifier Name="l_B3"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="f2" Source="e">
                        <LabelBlock>
                            <SimpleIdentifier Name="f_M"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="e" Source="f1">
                        <LabelBlock>
                            <SimpleIdentifier Name="s_M"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="e" Source="f2">
                        <LabelBlock>
                            <SimpleIdentifier Name="u_B3"/>
                        </LabelBlock>
                    </Edge>
                </EdgeList>
            </Graph>
        </SimpleComponent>
        <SimpleComponent Kind="SPEC" Name="B2">
            <Graph>
                <NodeList>
                    <SimpleNode Initial="true" Name="e">
                        <EventList>
                            <SimpleIdentifier Name=":accepting"/>
                        </EventList>
                    </SimpleNode>
                    <SimpleNode Name="f"/>
                </NodeList>
                <EdgeList>
                    <Edge Target="f" Source="e">
                        <LabelBlock>
                            <SimpleIdentifier Name="o_C2"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="e" Source="f">
                        <LabelBlock>
                            <SimpleIdentifier Name="u_B2"/>
                        </LabelBlock>
                    </Edge>
                </EdgeList>
            </Graph>
        </SimpleComponent>
        <SimpleComponent Kind="PLANT" Name="A">
            <Graph>
                <NodeList>
                    <SimpleNode Initial="true" Name="i">
                        <EventList>
                            <SimpleIdentifier Name=":accepting"/>
                        </EventList>
                    </SimpleNode>
                    <SimpleNode Name="w"/>
                    <SimpleNode Name="wA"/>
                    <SimpleNode Name="wB"/>
                </NodeList>
                <EdgeList>
                    <Edge Target="w" Source="i">
                        <LabelBlock>
                            <SimpleIdentifier Name="u_B5"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="wA" Source="w">
                        <LabelBlock>
                            <SimpleIdentifier Name="u_B6"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="wB" Source="w">
                        <LabelBlock>
                            <SimpleIdentifier Name="u_B7"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="i" Source="wA">
                        <LabelBlock>
                            <SimpleIdentifier Name="f_A"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="i" Source="wB">
                        <LabelBlock>
                            <SimpleIdentifier Name="f_B"/>
                        </LabelBlock>
                    </Edge>
                </EdgeList>
            </Graph>
        </SimpleComponent>
        <SimpleComponent Kind="SPEC" Name="B8">
            <Graph>
                <NodeList>
                    <SimpleNode Initial="true" Name="e">
                        <EventList>
                            <SimpleIdentifier Name=":accepting"/>
                        </EventList>
                    </SimpleNode>
                    <SimpleNode Name="f1"/>
                    <SimpleNode Name="f2"/>
                </NodeList>
                <EdgeList>
                    <Edge Target="f1" Source="e">
                        <LabelBlock>
                            <SimpleIdentifier Name="l_B8"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="f2" Source="e">
                        <LabelBlock>
                            <SimpleIdentifier Name="f_P"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="e" Source="f1">
                        <LabelBlock>
                            <SimpleIdentifier Name="s_P"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="e" Source="f2">
                        <LabelBlock>
                            <SimpleIdentifier Name="u_B8"/>
                        </LabelBlock>
                    </Edge>
                </EdgeList>
            </Graph>
        </SimpleComponent>
        <SimpleComponent Kind="PLANT" Name="C3">
            <Graph>
                <NodeList>
                    <SimpleNode Initial="true" Name="e">
                        <EventList>
                            <SimpleIdentifier Name=":accepting"/>
                        </EventList>
                    </SimpleNode>
                    <SimpleNode Name="f1"/>
                    <SimpleNode Name="f2"/>
                </NodeList>
                <EdgeList>
                    <Edge Target="f1" Source="e">
                        <LabelBlock>
                            <SimpleIdentifier Name="i_C3"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="f2" Source="e">
                        <LabelBlock>
                            <SimpleIdentifier Name="u_B8"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="e" Source="f1">
                        <LabelBlock>
                            <SimpleIdentifier Name="l_B8"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="e" Source="f2">
                        <LabelBlock>
                            <SimpleIdentifier Name="o_C3"/>
                        </LabelBlock>
                    </Edge>
                </EdgeList>
            </Graph>
        </SimpleComponent>
        <SimpleComponent Kind="SPEC" Name="B7">
            <Graph>
                <NodeList>
                    <SimpleNode Initial="true" Name="e">
                        <EventList>
                            <SimpleIdentifier Name=":accepting"/>
                        </EventList>
                    </SimpleNode>
                    <SimpleNode Name="f1"/>
                    <SimpleNode Name="f2"/>
                </NodeList>
                <EdgeList>
                    <Edge Target="f1" Source="e">
                        <LabelBlock>
                            <SimpleIdentifier Name="l_B7"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="f2" Source="e">
                        <LabelBlock>
                            <SimpleIdentifier Name="o_C3"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="e" Source="f1">
                        <LabelBlock>
                            <SimpleIdentifier Name="i_C3"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="e" Source="f2">
                        <LabelBlock>
                            <SimpleIdentifier Name="u_B7"/>
                        </LabelBlock>
                    </Edge>
                </EdgeList>
            </Graph>
        </SimpleComponent>
        <SimpleComponent Kind="SPEC" Name="B6">
            <Graph>
                <NodeList>
                    <SimpleNode Initial="true" Name="e">
                        <EventList>
                            <SimpleIdentifier Name=":accepting"/>
                        </EventList>
                    </SimpleNode>
                    <SimpleNode Name="f"/>
                </NodeList>
                <EdgeList>
                    <Edge Target="f" Source="e">
                        <LabelBlock>
                            <SimpleIdentifier Name="l_B6"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="e" Source="f">
                        <LabelBlock>
                            <SimpleIdentifier Name="u_B6"/>
                        </LabelBlock>
                    </Edge>
                </EdgeList>
            </Graph>
        </SimpleComponent>
        <SimpleComponent Kind="PLANT" Name="L">
            <Graph>
                <NodeList>
                    <SimpleNode Initial="true" Name="i">
                        <EventList>
                            <SimpleIdentifier Name=":accepting"/>
                        </EventList>
                    </SimpleNode>
                    <SimpleNode Name="wa"/>
                    <SimpleNode Name="wb"/>
                </NodeList>
                <EdgeList>
                    <Edge Target="wa" Source="i">
                        <LabelBlock>
                            <SimpleIdentifier Name="s_LA"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="wb" Source="i">
                        <LabelBlock>
                            <SimpleIdentifier Name="s_LB"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="i" Source="wa">
                        <LabelBlock>
                            <SimpleIdentifier Name="f_LA"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="i" Source="wb">
                        <LabelBlock>
                            <SimpleIdentifier Name="f_LB"/>
                        </LabelBlock>
                    </Edge>
                </EdgeList>
            </Graph>
        </SimpleComponent>
        <SimpleComponent Kind="PLANT" Name="M">
            <Graph>
                <NodeList>
                    <SimpleNode Initial="true" Name="i">
                        <EventList>
                            <SimpleIdentifier Name=":accepting"/>
                        </EventList>
                    </SimpleNode>
                    <SimpleNode Name="w"/>
                </NodeList>
                <EdgeList>
                    <Edge Target="w" Source="i">
                        <LabelBlock>
                            <SimpleIdentifier Name="s_M"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="i" Source="w">
                        <LabelBlock>
                            <SimpleIdentifier Name="f_M"/>
                        </LabelBlock>
                    </Edge>
                </EdgeList>
            </Graph>
        </SimpleComponent>
        <SimpleComponent Kind="PLANT" Name="P">
            <Graph>
                <NodeList>
                    <SimpleNode Initial="true" Name="i">
                        <EventList>
                            <SimpleIdentifier Name=":accepting"/>
                        </EventList>
                    </SimpleNode>
                    <SimpleNode Name="w"/>
                </NodeList>
                <EdgeList>
                    <Edge Target="w" Source="i">
                        <LabelBlock>
                            <SimpleIdentifier Name="s_P"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="i" Source="w">
                        <LabelBlock>
                            <SimpleIdentifier Name="f_P"/>
                        </LabelBlock>
                    </Edge>
                </EdgeList>
            </Graph>
        </SimpleComponent>
        <SimpleComponent Kind="PLANT" Name="R">
            <Graph>
                <NodeList>
                    <SimpleNode Initial="true" Name="i">
                        <EventList>
                            <SimpleIdentifier Name=":accepting"/>
                        </EventList>
                    </SimpleNode>
                    <SimpleNode Name="m_b1"/>
                    <SimpleNode Name="m_b2"/>
                    <SimpleNode Name="m_p1"/>
                    <SimpleNode Name="m_p2A"/>
                    <SimpleNode Name="m_p2B"/>
                </NodeList>
                <EdgeList>
                    <Edge Target="m_b1" Source="i">
                        <LabelBlock>
                            <SimpleIdentifier Name="u_B1"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="m_b2" Source="i">
                        <LabelBlock>
                            <SimpleIdentifier Name="u_B3"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="m_p1" Source="i">
                        <LabelBlock>
                            <SimpleIdentifier Name="u_B2"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="m_p2A" Source="i">
                        <LabelBlock>
                            <SimpleIdentifier Name="u_B4A"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="m_p2B" Source="i">
                        <LabelBlock>
                            <SimpleIdentifier Name="u_B4B"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="i" Source="m_b1">
                        <LabelBlock>
                            <SimpleIdentifier Name="l_B3"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="i" Source="m_b2">
                        <LabelBlock>
                            <SimpleIdentifier Name="l_B5"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="i" Source="m_p1">
                        <LabelBlock>
                            <SimpleIdentifier Name="l_B4"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="i" Source="m_p2A">
                        <LabelBlock>
                            <SimpleIdentifier Name="l_B6"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="i" Source="m_p2B">
                        <LabelBlock>
                            <SimpleIdentifier Name="l_B7"/>
                        </LabelBlock>
                    </Edge>
                </EdgeList>
            </Graph>
        </SimpleComponent>
        <SimpleComponent Kind="PLANT" Name="C1">
            <Graph>
                <NodeList>
                    <SimpleNode Initial="true" Name="e">
                        <EventList>
                            <SimpleIdentifier Name=":accepting"/>
                        </EventList>
                    </SimpleNode>
                    <SimpleNode Name="f"/>
                </NodeList>
                <EdgeList>
                    <Edge Target="f" Source="e">
                        <LabelBlock>
                            <SimpleIdentifier Name="i_C1"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="e" Source="f">
                        <LabelBlock>
                            <SimpleIdentifier Name="o_C1"/>
                        </LabelBlock>
                    </Edge>
                </EdgeList>
            </Graph>
        </SimpleComponent>
        <SimpleComponent Kind="PLANT" Name="C2">
            <Graph>
                <NodeList>
                    <SimpleNode Initial="true" Name="e">
                        <EventList>
                            <SimpleIdentifier Name=":accepting"/>
                        </EventList>
                    </SimpleNode>
                    <SimpleNode Name="f"/>
                </NodeList>
                <EdgeList>
                    <Edge Target="f" Source="e">
                        <LabelBlock>
                            <SimpleIdentifier Name="i_C2"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="e" Source="f">
                        <LabelBlock>
                            <SimpleIdentifier Name="o_C2"/>
                        </LabelBlock>
                    </Edge>
                </EdgeList>
            </Graph>
        </SimpleComponent>
        <SimpleComponent Kind="SPEC" Name="B1">
            <Graph>
                <NodeList>
                    <SimpleNode Initial="true" Name="e">
                        <EventList>
                            <SimpleIdentifier Name=":accepting"/>
                        </EventList>
                    </SimpleNode>
                    <SimpleNode Name="f"/>
                </NodeList>
                <EdgeList>
                    <Edge Target="f" Source="e">
                        <LabelBlock>
                            <SimpleIdentifier Name="o_C1"/>
                        </LabelBlock>
                    </Edge>
                    <Edge Target="e" Source="f">
                        <LabelBlock>
                            <SimpleIdentifier Name="u_B1"/>
                        </LabelBlock>
                    </Edge>
                </EdgeList>
            </Graph>
        </SimpleComponent>
    </ComponentList>
</Module>
