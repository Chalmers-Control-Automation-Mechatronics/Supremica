<?xml version="1.0" encoding="UTF-8"?>
<project basedir=".." name="Supremica-IDE">
    <property name="project.dir" value="."/>
    <property name="ant.script" value="${project.dir}/build.xml"/>
    <path id="nbcp">
        <pathelement path="${project.dir}/lib/unjared"/>
        <pathelement location="${project.dir}/dist/Supremica.jar"/>
        <pathelement location="${project.dir}/dist/SupremicaTest.jar"/>
    </path>
 
    <!-- (more info: http://www.netbeans.org/kb/articles/freeform-config.html#runsingle) -->
    <target name="debug-selected-file-in-src">
        <fail unless="debug.class">Must set property 'debug.class'</fail>
        <nbjpdastart addressproperty="jpda.address" name="Supremica" transport="dt_socket">
            <classpath refid="nbcp"/>
        </nbjpdastart>
        <java classname="${debug.class}" fork="true">
            <classpath refid="cp"/>
            <sysproperty key="supremica.test.inputdir" value="${project.dir}/tests/testfiles"/>
            <sysproperty key="waters.test.inputdir" value="${project.dir}/examples"/>
            <sysproperty key="waters.test.outputdir" value="${project.dir}/logs/results"/>
            <sysproperty key="waters.test.ant" value="true"/>
            <sysproperty key="java.library.path" value="${project.dir}/dist"/>
            <jvmarg value="-enableassertions"/>
            <jvmarg value="-Xdebug"/>
            <jvmarg value="-Xrunjdwp:transport=dt_socket,address=${jpda.address}"/>
        </java>
    </target>
 
    <!-- (more info: http://www.netbeans.org/kb/articles/freeform-config.html#runsingle) -->
    <target name="run-selected-file-in-src">
        <fail unless="run.class">Must set property 'run.class'</fail>
        <java classname="${run.class}" failonerror="true" fork="true">
            <classpath refid="nbcp"/>
            <sysproperty key="supremica.test.inputdir" value="${project.dir}/tests/testfiles"/>
            <sysproperty key="waters.test.inputdir" value="${project.dir}/examples"/>
            <sysproperty key="waters.test.outputdir" value="${project.dir}/logs/results"/>
            <sysproperty key="waters.test.ant" value="true"/>
            <sysproperty key="java.library.path" value="${project.dir}/dist"/>
            <jvmarg value="-enableassertions"/>
       </java>
    </target>
</project>
