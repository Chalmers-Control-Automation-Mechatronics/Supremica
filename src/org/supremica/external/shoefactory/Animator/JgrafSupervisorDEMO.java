package org.supremica.external.shoefactory.Animator;

import java.awt.datatransfer.*;
import java.awt.*;
import java.awt.event.*;
import java.awt.geom.*;
import java.awt.print.*;
import javax.swing.*;
import javax.swing.border.*;
import grafchart.sfc.*;

public class JgrafSupervisorDEMO
{
	private int yPos=0, stepID=0;
	private boolean[] stationVisit;
	GCDocument jgSupervisor;
	private static String[] alphabet = {"put_T0L","put_T0R","get_T0L","get_T0R","put_T1","get_T1","put_T1_S0","get_T1_S0","put_T2","get_T2","put_T2_S1","get_T2_S1"};

	public JgrafSupervisorDEMO(GCDocument doc)
	{
		jgSupervisor = doc;
		jgSupervisor.setWorkspaceName("JgrafSupervisor");
		jgSupervisor.setFrameRectangle(new Rectangle(0,0,800,800));

		BooleanVariable[] bv = new BooleanVariable[alphabet.length];
		BooleanVariable ena = jgSupervisor.createBooleanVariable(300,50,"enabled","0");
		BooleanVariable suc = jgSupervisor.createBooleanVariable(400,50,"success","0");
		StringVariable sup = jgSupervisor.createStringVariable(500,50,"supervisor","theSupervisor");
		StringVariable curT = jgSupervisor.createStringVariable(600,50,"currTable","");
		StringVariable curS1 = jgSupervisor.createStringVariable(900,50,"currStation","");
		StringVariable curE = jgSupervisor.createStringVariable(700,50,"currEvent","");
		StringVariable curS2 = jgSupervisor.createStringVariable(1000,50,"currStation2","");
		IntegerVariable nrO = jgSupervisor.createIntegerVariable(300,150,"nrOfShoes","0");
		IntegerVariable sho = jgSupervisor.createIntegerVariable(400,150,"index","1");
		StringVariable getR = jgSupervisor.createStringVariable(500,150,"getRot","");
		StringVariable stepS = jgSupervisor.createStringVariable(700,150,"stepString","");
		IntegerVariable pi = jgSupervisor.createIntegerVariable(800,150,"pointerInt","0");

		for(int i=0; i<alphabet.length; i++)
		{
			bv[i] = jgSupervisor.createBooleanVariable(100+100*i,250,alphabet[i],"0");
		}

		WorkspaceObject wo = jgSupervisor.createWorkspaceObject(100,50,"Supervisor");
		GCDocument supervisor = wo.getSubWorkspace();

		// Create Grafcet
		GCStepInitial initialStep = supervisor.createInitialStep(100,yPos,"Start","S success = applyStaticMethod(\"org.supremica.external.jgrafchart.Supervisor\",\"initializeSupervisor\",\"boolean\",\"string\",supervisor) ;");
		yPos+=100;
		GCTransition trAA = supervisor.createTransition(100,yPos,"nrOfShoes>0 & success");
		yPos+=50;
		GCStep sA = supervisor.createStep(100,yPos,"sA",";");
		yPos+=100;
		GCTransition tr = supervisor.createTransition(100,yPos,"1");
		yPos+=50;

		supervisor.connect(initialStep,trAA);
		supervisor.connect(trAA,sA);
		supervisor.connect(sA,tr);

		//*********
		GCStep s0A = supervisor.createStep(100,yPos,"Step"+stepID,"S currEvent=\"Shoe_\"+index+\"put_T0L\";\nS enabled = applyStaticMethod(\"org.supremica.external.jgrafchart.Supervisor\",\"isEventEnabled\",\"boolean\",\"string\",supervisor,\"string\",currEvent);\nS stepString = \"Shoe\"+index+\".activeSteps.onStep11\";\nS enabled = enabled & !Shoefactory.tables.table0.fullSlot.get(Shoefactory.tables.table0.rot) & stepString^;");
		GCTransition trNotEnA = supervisor.createTransition(100,yPos+100,"!enabled");
		stepID++;
		GCTransition trEn1A = supervisor.createTransition(300,yPos+100,"enabled");
		GCStep s1A = supervisor.createStep(300,yPos+150,"Step"+stepID,"S success = applyStaticMethod(\"org.supremica.external.jgrafchart.Supervisor\",\"executeEvent\",\"boolean\",\"string\",supervisor,\"string\",currEvent);\nN put_T0L;");
		GCTransition trEn2A = supervisor.createTransition(300,yPos+250,"Step"+stepID+".T>1");
		stepID++;
		GCStep s2A = supervisor.createStep(100,yPos+300,"Step"+stepID,"S index = index+1;");
		GCTransition trA = supervisor.createTransition(100,yPos+400,"index>nrOfShoes");
		GCTransition trBackA = supervisor.createTransition(300,yPos+400,"index<=nrOfShoes");
		stepID++;
		GCStep s3A = supervisor.createStep(100,yPos+450,"Step"+stepID,"S index = 1;");
		GCTransition tr2A = supervisor.createTransition(100,yPos+550,"1");
		stepID++;
		supervisor.connect(tr,s0A);
		supervisor.connect(s0A,trNotEnA);
		supervisor.connect(s0A,trEn1A);
		supervisor.connect(trEn1A,s1A);
		supervisor.connect(s1A,trEn2A);
		supervisor.connect(trNotEnA,s2A);
		supervisor.connect(trEn2A,s2A);
		supervisor.connect(s2A,trBackA);
		supervisor.connect(s2A,trA);
		supervisor.connect(trBackA,s0A);
		supervisor.connect(trA,s3A);
		supervisor.connect(s3A,tr2A);
		yPos+=600;

		GCStep s0B = supervisor.createStep(100,yPos,"Step"+stepID,"S currEvent=\"Shoe_\"+index+\"put_T0R\";\nS enabled = applyStaticMethod(\"org.supremica.external.jgrafchart.Supervisor\",\"isEventEnabled\",\"boolean\",\"string\",supervisor,\"string\",currEvent);\nS stepString = \"Shoe\"+index+\".activeSteps.onStep6\";\nS enabled = enabled & !Shoefactory.tables.table0.fullSlot.get(applyStaticMethod(\"org.supremica.external.shoefactory.Animator.ShoeDEMO\",\"getRota\",\"int\",\"int\",Shoefactory.tables.table0.rot)) & stepString^;");
		GCTransition trNotEnB = supervisor.createTransition(100,yPos+100,"!enabled");
		stepID++;
		GCTransition trEn1B = supervisor.createTransition(300,yPos+100,"enabled");
		GCStep s1B = supervisor.createStep(300,yPos+150,"Step"+stepID,"S success = applyStaticMethod(\"org.supremica.external.jgrafchart.Supervisor\",\"executeEvent\",\"boolean\",\"string\",supervisor,\"string\",currEvent);\nN put_T0R;");
		GCTransition trEn2B = supervisor.createTransition(300,yPos+250,"Step"+stepID+".T>1");
		stepID++;
		GCStep s2B = supervisor.createStep(100,yPos+300,"Step"+stepID,"S index = index+1;");
		GCTransition trB = supervisor.createTransition(100,yPos+400,"index>nrOfShoes");
		GCTransition trBackB = supervisor.createTransition(300,yPos+400,"index<=nrOfShoes");
		stepID++;
		GCStep s3B = supervisor.createStep(100,yPos+450,"Step"+stepID,"S index = 1;");
		GCTransition tr2B = supervisor.createTransition(100,yPos+550,"1");
		stepID++;
		supervisor.connect(tr2A,s0B);
		supervisor.connect(s0B,trNotEnB);
		supervisor.connect(s0B,trEn1B);
		supervisor.connect(trEn1B,s1B);
		supervisor.connect(s1B,trEn2B);
		supervisor.connect(trNotEnB,s2B);
		supervisor.connect(trEn2B,s2B);
		supervisor.connect(s2B,trBackB);
		supervisor.connect(s2B,trB);
		supervisor.connect(trBackB,s0B);
		supervisor.connect(trB,s3B);
		supervisor.connect(s3B,tr2B);
		yPos+=600;

		GCStep s0C = supervisor.createStep(100,yPos,"Step"+stepID,"S currEvent=\"Shoe_\"+index+\"put_T1\";\nS enabled = applyStaticMethod(\"org.supremica.external.jgrafchart.Supervisor\",\"isEventEnabled\",\"boolean\",\"string\",supervisor,\"string\",currEvent);\nS stepString = \"Shoe\"+index+\".activeSteps.onStep5\";\nS enabled = enabled & !Shoefactory.tables.table1.fullSlot.get(Shoefactory.tables.table1.rot) & stepString^;");
		GCTransition trNotEnC = supervisor.createTransition(100,yPos+100,"!enabled");
		stepID++;
		GCTransition trEn1C = supervisor.createTransition(300,yPos+100,"enabled");
		GCStep s1C = supervisor.createStep(300,yPos+150,"Step"+stepID,"S success = applyStaticMethod(\"org.supremica.external.jgrafchart.Supervisor\",\"executeEvent\",\"boolean\",\"string\",supervisor,\"string\",currEvent);\nN put_T1;");
		GCTransition trEn2C = supervisor.createTransition(300,yPos+250,"Step"+stepID+".T>1");
		stepID++;
		GCStep s2C = supervisor.createStep(100,yPos+300,"Step"+stepID,"S index = index+1;");
		GCTransition trC = supervisor.createTransition(100,yPos+400,"index>nrOfShoes");
		GCTransition trBackC = supervisor.createTransition(300,yPos+400,"index<=nrOfShoes");
		stepID++;
		GCStep s3C = supervisor.createStep(100,yPos+450,"Step"+stepID,"S index = 1;");
		GCTransition tr2C = supervisor.createTransition(100,yPos+550,"1");
		stepID++;
		supervisor.connect(tr2B,s0C);
		supervisor.connect(s0C,trNotEnC);
		supervisor.connect(s0C,trEn1C);
		supervisor.connect(trEn1C,s1C);
		supervisor.connect(s1C,trEn2C);
		supervisor.connect(trNotEnC,s2C);
		supervisor.connect(trEn2C,s2C);
		supervisor.connect(s2C,trBackC);
		supervisor.connect(s2C,trC);
		supervisor.connect(trBackC,s0C);
		supervisor.connect(trC,s3C);
		supervisor.connect(s3C,tr2C);
		yPos+=600;

		GCStep s0D = supervisor.createStep(100,yPos,"Step"+stepID,"S currEvent=\"Shoe_\"+index+\"put_T2\";\nS enabled = applyStaticMethod(\"org.supremica.external.jgrafchart.Supervisor\",\"isEventEnabled\",\"boolean\",\"string\",supervisor,\"string\",currEvent);\nS stepString = \"Shoe\"+index+\".activeSteps.onStep4\";\nS enabled = enabled & !Shoefactory.tables.table2.fullSlot.get(Shoefactory.tables.table2.rot) & stepString^;");
		GCTransition trNotEnD = supervisor.createTransition(100,yPos+100,"!enabled");
		stepID++;
		GCTransition trEn1D = supervisor.createTransition(300,yPos+100,"enabled");
		GCStep s1D = supervisor.createStep(300,yPos+150,"Step"+stepID,"S success = applyStaticMethod(\"org.supremica.external.jgrafchart.Supervisor\",\"executeEvent\",\"boolean\",\"string\",supervisor,\"string\",currEvent);\nN put_T2;");
		GCTransition trEn2D = supervisor.createTransition(300,yPos+250,"Step"+stepID+".T>1");
		stepID++;
		GCStep s2D = supervisor.createStep(100,yPos+300,"Step"+stepID,"S index = index+1;");
		GCTransition trD = supervisor.createTransition(100,yPos+400,"index>nrOfShoes");
		GCTransition trBackD = supervisor.createTransition(300,yPos+400,"index<=nrOfShoes");
		stepID++;
		GCStep s3D = supervisor.createStep(100,yPos+450,"Step"+stepID,"S index = 1;");
		GCTransition tr2D = supervisor.createTransition(100,yPos+550,"1");
		stepID++;
		supervisor.connect(tr2C,s0D);
		supervisor.connect(s0D,trNotEnD);
		supervisor.connect(s0D,trEn1D);
		supervisor.connect(trEn1D,s1D);
		supervisor.connect(s1D,trEn2D);
		supervisor.connect(trNotEnD,s2D);
		supervisor.connect(trEn2D,s2D);
		supervisor.connect(s2D,trBackD);
		supervisor.connect(s2D,trD);
		supervisor.connect(trBackD,s0D);
		supervisor.connect(trD,s3D);
		supervisor.connect(s3D,tr2D);
		yPos+=600;

		GCStep s0E = supervisor.createStep(100,yPos,"Step"+stepID,"S currEvent=\"Shoe_\"+index+\"get_T0L\";\nS getRot=\"Shoe\"+index+\".nrOfRot\";\nS enabled=applyStaticMethod(\"org.supremica.external.jgrafchart.Supervisor\",\"isEventEnabled\",\"boolean\",\"string\",supervisor,\"string\",currEvent);\nS currStation=\"Shoe\"+index+\".station0\";\nS currStation2=\"Shoe\"+index+\".station1\";\nS stepString = \"Shoe\"+index+\".activeSteps.onStep8\";\nS enabled = enabled & applyStaticMethod(\"java.lang.Math\",\"abs\",\"int\",\"int\",getRot^-Shoefactory.tables.table0.rot)==0 & stepString^ & !currStation^ & !currStation2^;");
		GCTransition trNotEnE = supervisor.createTransition(100,yPos+100,"!enabled");
		stepID++;
		GCTransition trEn1E = supervisor.createTransition(300,yPos+100,"enabled");
		GCStep s1E = supervisor.createStep(300,yPos+150,"Step"+stepID,"S success = applyStaticMethod(\"org.supremica.external.jgrafchart.Supervisor\",\"executeEvent\",\"boolean\",\"string\",supervisor,\"string\",currEvent);\nN get_T0L;");
		GCTransition trEn2E = supervisor.createTransition(300,yPos+250,"Step"+stepID+".T>1");
		stepID++;
		GCStep s2E = supervisor.createStep(100,yPos+300,"Step"+stepID,"S index = index+1;");
		GCTransition trE = supervisor.createTransition(100,yPos+400,"index>nrOfShoes");
		GCTransition trBackE = supervisor.createTransition(300,yPos+400,"index<=nrOfShoes");
		stepID++;
		GCStep s3E = supervisor.createStep(100,yPos+450,"Step"+stepID,"S index = 1;");
		GCTransition tr2E = supervisor.createTransition(100,yPos+550,"1");
		stepID++;
		supervisor.connect(tr2D,s0E);
		supervisor.connect(s0E,trNotEnE);
		supervisor.connect(s0E,trEn1E);
		supervisor.connect(trEn1E,s1E);
		supervisor.connect(s1E,trEn2E);
		supervisor.connect(trNotEnE,s2E);
		supervisor.connect(trEn2E,s2E);
		supervisor.connect(s2E,trBackE);
		supervisor.connect(s2E,trE);
		supervisor.connect(trBackE,s0E);
		supervisor.connect(trE,s3E);
		supervisor.connect(s3E,tr2E);
		yPos+=600;

		GCStep s0F = supervisor.createStep(100,yPos,"Step"+stepID,"S currEvent=\"Shoe_\"+index+\"get_T0R\";\nS getRot=\"Shoe\"+index+\".nrOfRot\";\nS enabled=applyStaticMethod(\"org.supremica.external.jgrafchart.Supervisor\",\"isEventEnabled\",\"boolean\",\"string\",supervisor,\"string\",currEvent);\nS stepString = \"Shoe\"+index+\".activeSteps.onStep10\";\nS enabled = enabled & applyStaticMethod(\"java.lang.Math\",\"abs\",\"int\",\"int\",getRot^-Shoefactory.tables.table0.rot)==6 & stepString^;");
		GCTransition trNotEnF = supervisor.createTransition(100,yPos+100,"!enabled");
		stepID++;
		GCTransition trEn1F = supervisor.createTransition(300,yPos+100,"enabled");
		GCStep s1F = supervisor.createStep(300,yPos+150,"Step"+stepID,"S success = applyStaticMethod(\"org.supremica.external.jgrafchart.Supervisor\",\"executeEvent\",\"boolean\",\"string\",supervisor,\"string\",currEvent);\nN get_T0R;");
		GCTransition trEn2F = supervisor.createTransition(300,yPos+250,"Step"+stepID+".T>1");
		stepID++;
		GCStep s2F = supervisor.createStep(100,yPos+300,"Step"+stepID,"S index = index+1;");
		GCTransition trF = supervisor.createTransition(100,yPos+400,"index>nrOfShoes");
		GCTransition trBackF = supervisor.createTransition(300,yPos+400,"index<=nrOfShoes");
		stepID++;
		GCStep s3F = supervisor.createStep(100,yPos+450,"Step"+stepID,"S index = 1;");
		GCTransition tr2F = supervisor.createTransition(100,yPos+550,"1");
		stepID++;
		supervisor.connect(tr2E,s0F);
		supervisor.connect(s0F,trNotEnF);
		supervisor.connect(s0F,trEn1F);
		supervisor.connect(trEn1F,s1F);
		supervisor.connect(s1F,trEn2F);
		supervisor.connect(trNotEnF,s2F);
		supervisor.connect(trEn2F,s2F);
		supervisor.connect(s2F,trBackF);
		supervisor.connect(s2F,trF);
		supervisor.connect(trBackF,s0F);
		supervisor.connect(trF,s3F);
		supervisor.connect(s3F,tr2F);
		yPos+=600;

		GCStep s0G = supervisor.createStep(100,yPos,"Step"+stepID,"S currEvent=\"Shoe_\"+index+\"get_T1\";\nS getRot=\"Shoe\"+index+\".nrOfRot\";\nS enabled=applyStaticMethod(\"org.supremica.external.jgrafchart.Supervisor\",\"isEventEnabled\",\"boolean\",\"string\",supervisor,\"string\",currEvent);\nS stepString = \"Shoe\"+index+\".activeSteps.onStep10\";\nS enabled = enabled & applyStaticMethod(\"java.lang.Math\",\"abs\",\"int\",\"int\",getRot^-Shoefactory.tables.table1.rot)==0 & stepString^;");
		GCTransition trNotEnG = supervisor.createTransition(100,yPos+100,"!enabled");
		stepID++;
		GCTransition trEn1G = supervisor.createTransition(300,yPos+100,"enabled");
		GCStep s1G = supervisor.createStep(300,yPos+150,"Step"+stepID,"S success = applyStaticMethod(\"org.supremica.external.jgrafchart.Supervisor\",\"executeEvent\",\"boolean\",\"string\",supervisor,\"string\",currEvent);\nN get_T1;");
		GCTransition trEn2G = supervisor.createTransition(300,yPos+250,"Step"+stepID+".T>1");
		stepID++;
		GCStep s2G = supervisor.createStep(100,yPos+300,"Step"+stepID,"S index = index+1;");
		GCTransition trG = supervisor.createTransition(100,yPos+400,"index>nrOfShoes");
		GCTransition trBackG = supervisor.createTransition(300,yPos+400,"index<=nrOfShoes");
		stepID++;
		GCStep s3G = supervisor.createStep(100,yPos+450,"Step"+stepID,"S index = 1;");
		GCTransition tr2G = supervisor.createTransition(100,yPos+550,"1");
		stepID++;
		supervisor.connect(tr2F,s0G);
		supervisor.connect(s0G,trNotEnG);
		supervisor.connect(s0G,trEn1G);
		supervisor.connect(trEn1G,s1G);
		supervisor.connect(s1G,trEn2G);
		supervisor.connect(trNotEnG,s2G);
		supervisor.connect(trEn2G,s2G);
		supervisor.connect(s2G,trBackG);
		supervisor.connect(s2G,trG);
		supervisor.connect(trBackG,s0G);
		supervisor.connect(trG,s3G);
		supervisor.connect(s3G,tr2G);
		yPos+=600;

		GCStep s0H = supervisor.createStep(100,yPos,"Step"+stepID,"S currEvent=\"Shoe_\"+index+\"get_T2\";\nS getRot=\"Shoe\"+index+\".nrOfRot\";\nS enabled=applyStaticMethod(\"org.supremica.external.jgrafchart.Supervisor\",\"isEventEnabled\",\"boolean\",\"string\",supervisor,\"string\",currEvent);\nS stepString = \"Shoe\"+index+\".activeSteps.onStep10\";\nS enabled = enabled & applyStaticMethod(\"java.lang.Math\",\"abs\",\"int\",\"int\",getRot^-Shoefactory.tables.table2.rot)==0 & stepString^;");
		GCTransition trNotEnH = supervisor.createTransition(100,yPos+100,"!enabled");
		stepID++;
		GCTransition trEn1H = supervisor.createTransition(300,yPos+100,"enabled");
		GCStep s1H = supervisor.createStep(300,yPos+150,"Step"+stepID,"S success = applyStaticMethod(\"org.supremica.external.jgrafchart.Supervisor\",\"executeEvent\",\"boolean\",\"string\",supervisor,\"string\",currEvent);\nN get_T2;");
		GCTransition trEn2H = supervisor.createTransition(300,yPos+250,"Step"+stepID+".T>1");
		stepID++;
		GCStep s2H = supervisor.createStep(100,yPos+300,"Step"+stepID,"S index = index+1;");
		GCTransition trH = supervisor.createTransition(100,yPos+400,"index>nrOfShoes");
		GCTransition trBackH = supervisor.createTransition(300,yPos+400,"index<=nrOfShoes");
		stepID++;
		GCStep s3H = supervisor.createStep(100,yPos+450,"Step"+stepID,"S index = 1;");
		GCTransition tr2H = supervisor.createTransition(100,yPos+550,"1");
		stepID++;
		supervisor.connect(tr2G,s0H);
		supervisor.connect(s0H,trNotEnH);
		supervisor.connect(s0H,trEn1H);
		supervisor.connect(trEn1H,s1H);
		supervisor.connect(s1H,trEn2H);
		supervisor.connect(trNotEnH,s2H);
		supervisor.connect(trEn2H,s2H);
		supervisor.connect(s2H,trBackH);
		supervisor.connect(s2H,trH);
		supervisor.connect(trBackH,s0H);
		supervisor.connect(trH,s3H);
		supervisor.connect(s3H,tr2H);
		yPos+=600;

		GCStep s0I = supervisor.createStep(100,yPos,"Step"+stepID,"S currEvent=\"Shoe_\"+index+\"put_T1_S0\";\nS getRot=\"Shoe\"+index+\".nrOfRot\";\nS pointerInt=applyStaticMethod(\"org.supremica.external.shoefactory.Animator.ShoeDEMO\",\"getIndex\",\"int\",\"int\",Shoefactory.tables.table1.rot,\"int\",15);\nS enabled = applyStaticMethod(\"org.supremica.external.jgrafchart.Supervisor\",\"isEventEnabled\",\"boolean\",\"string\",supervisor,\"string\",currEvent);\nS stepString = \"Shoe\"+index+\".activeSteps.onStep1\";\nS enabled = enabled & !Shoefactory.tables.table1.fullSlot.get(pointerInt^) & stepString^;");
		GCTransition trNotEnI = supervisor.createTransition(100,yPos+100,"!enabled");
		stepID++;
		GCTransition trEn1I = supervisor.createTransition(300,yPos+100,"enabled");
		GCStep s1I = supervisor.createStep(300,yPos+150,"Step"+stepID,"S success = applyStaticMethod(\"org.supremica.external.jgrafchart.Supervisor\",\"executeEvent\",\"boolean\",\"string\",supervisor,\"string\",currEvent);\nN put_T1_S0;");
		GCTransition trEn2I = supervisor.createTransition(300,yPos+250,"Step"+stepID+".T>1");
		stepID++;
		GCStep s2I = supervisor.createStep(100,yPos+300,"Step"+stepID,"S index = index+1;");
		GCTransition trI = supervisor.createTransition(100,yPos+400,"index>nrOfShoes");
		GCTransition trBackI = supervisor.createTransition(300,yPos+400,"index<=nrOfShoes");
		stepID++;
		GCStep s3I = supervisor.createStep(100,yPos+450,"Step"+stepID,"S index = 1;");
		GCTransition tr2I = supervisor.createTransition(100,yPos+550,"1");
		stepID++;
		supervisor.connect(tr2H,s0I);
		supervisor.connect(s0I,trNotEnI);
		supervisor.connect(s0I,trEn1I);
		supervisor.connect(trEn1I,s1I);
		supervisor.connect(s1I,trEn2I);
		supervisor.connect(trNotEnI,s2I);
		supervisor.connect(trEn2I,s2I);
		supervisor.connect(s2I,trBackI);
		supervisor.connect(s2I,trI);
		supervisor.connect(trBackI,s0I);
		supervisor.connect(trI,s3I);
		supervisor.connect(s3I,tr2I);
		yPos+=600;

		GCStep s0J = supervisor.createStep(100,yPos,"Step"+stepID,"S currEvent=\"Shoe_\"+index+\"get_T1_S0\";\nS getRot=\"Shoe\"+index+\".nrOfRot\";\nS currStation=\"Shoe\"+index+\".station0\";\nS enabled = applyStaticMethod(\"org.supremica.external.jgrafchart.Supervisor\",\"isEventEnabled\",\"boolean\",\"string\",supervisor,\"string\",currEvent);\nS stepString = \"Shoe\"+index+\".activeSteps.onStep0\";\nS enabled = enabled & applyStaticMethod(\"java.lang.Math\",\"abs\",\"int\",\"int\",getRot^-Shoefactory.tables.table1.rot)==15 & stepString^ & currStation^;");
		GCTransition trNotEnJ = supervisor.createTransition(100,yPos+100,"!enabled");
		stepID++;
		GCTransition trEn1J = supervisor.createTransition(300,yPos+100,"enabled");
		GCStep s1J = supervisor.createStep(300,yPos+150,"Step"+stepID,"S success = applyStaticMethod(\"org.supremica.external.jgrafchart.Supervisor\",\"executeEvent\",\"boolean\",\"string\",supervisor,\"string\",currEvent);\nN get_T1_S0;");
		GCTransition trEn2J = supervisor.createTransition(300,yPos+250,"Step"+stepID+".T>1");
		stepID++;
		GCStep s2J = supervisor.createStep(100,yPos+300,"Step"+stepID,"S index = index+1;");
		GCTransition trJ = supervisor.createTransition(100,yPos+400,"index>nrOfShoes");
		GCTransition trBackJ = supervisor.createTransition(300,yPos+400,"index<=nrOfShoes");
		stepID++;
		GCStep s3J = supervisor.createStep(100,yPos+450,"Step"+stepID,"S index = 1;");
		GCTransition tr2J = supervisor.createTransition(100,yPos+550,"1");
		stepID++;
		supervisor.connect(tr2I,s0J);
		supervisor.connect(s0J,trNotEnJ);
		supervisor.connect(s0J,trEn1J);
		supervisor.connect(trEn1J,s1J);
		supervisor.connect(s1J,trEn2J);
		supervisor.connect(trNotEnJ,s2J);
		supervisor.connect(trEn2J,s2J);
		supervisor.connect(s2J,trBackJ);
		supervisor.connect(s2J,trJ);
		supervisor.connect(trBackJ,s0J);
		supervisor.connect(trJ,s3J);
		supervisor.connect(s3J,tr2J);
		yPos+=600;

		GCStep s0K = supervisor.createStep(100,yPos,"Step"+stepID,"S currEvent=\"Shoe_\"+index+\"put_T2_S1\";\nS getRot=\"Shoe\"+index+\".nrOfRot\";\nS pointerInt=applyStaticMethod(\"org.supremica.external.shoefactory.Animator.ShoeDEMO\",\"getIndex\",\"int\",\"int\",Shoefactory.tables.table2.rot,\"int\",8);\nS enabled = applyStaticMethod(\"org.supremica.external.jgrafchart.Supervisor\",\"isEventEnabled\",\"boolean\",\"string\",supervisor,\"string\",currEvent);\nS stepString = \"Shoe\"+index+\".activeSteps.onStep3\";\nS enabled = enabled & !Shoefactory.tables.table2.fullSlot.get(pointerInt^) & stepString^;");
		GCTransition trNotEnK = supervisor.createTransition(100,yPos+100,"!enabled");
		stepID++;
		GCTransition trEn1K = supervisor.createTransition(300,yPos+100,"enabled");
		GCStep s1K = supervisor.createStep(300,yPos+150,"Step"+stepID,"S success = applyStaticMethod(\"org.supremica.external.jgrafchart.Supervisor\",\"executeEvent\",\"boolean\",\"string\",supervisor,\"string\",currEvent);\nN put_T2_S1;");
		GCTransition trEn2K = supervisor.createTransition(300,yPos+250,"Step"+stepID+".T>1");
		stepID++;
		GCStep s2K = supervisor.createStep(100,yPos+300,"Step"+stepID,"S index = index+1;");
		GCTransition trK = supervisor.createTransition(100,yPos+400,"index>nrOfShoes");
		GCTransition trBackK = supervisor.createTransition(300,yPos+400,"index<=nrOfShoes");
		stepID++;
		GCStep s3K = supervisor.createStep(100,yPos+450,"Step"+stepID,"S index = 1;");
		GCTransition tr2K = supervisor.createTransition(100,yPos+550,"1");
		stepID++;
		supervisor.connect(tr2J,s0K);
		supervisor.connect(s0K,trNotEnK);
		supervisor.connect(s0K,trEn1K);
		supervisor.connect(trEn1K,s1K);
		supervisor.connect(s1K,trEn2K);
		supervisor.connect(trNotEnK,s2K);
		supervisor.connect(trEn2K,s2K);
		supervisor.connect(s2K,trBackK);
		supervisor.connect(s2K,trK);
		supervisor.connect(trBackK,s0K);
		supervisor.connect(trK,s3K);
		supervisor.connect(s3K,tr2K);
		yPos+=600;

		GCStep s0L = supervisor.createStep(100,yPos,"Step"+stepID,"S currEvent=\"Shoe_\"+index+\"get_T2_S1\";\nS getRot=\"Shoe\"+index+\".nrOfRot\";\nS currStation=\"Shoe\"+index+\".station1\";\nS enabled = applyStaticMethod(\"org.supremica.external.jgrafchart.Supervisor\",\"isEventEnabled\",\"boolean\",\"string\",supervisor,\"string\",currEvent);\nS stepString = \"Shoe\"+index+\".activeSteps.onStep2\";\nS enabled = enabled & applyStaticMethod(\"java.lang.Math\",\"abs\",\"int\",\"int\",getRot^-Shoefactory.tables.table2.rot)==8 & stepString^ & currStation^;");
		GCTransition trNotEnL = supervisor.createTransition(100,yPos+100,"!enabled");
		stepID++;
		GCTransition trEn1L = supervisor.createTransition(300,yPos+100,"enabled");
		GCStep s1L = supervisor.createStep(300,yPos+150,"Step"+stepID,"S success = applyStaticMethod(\"org.supremica.external.jgrafchart.Supervisor\",\"executeEvent\",\"boolean\",\"string\",supervisor,\"string\",currEvent);\nN get_T2_S1;");
		GCTransition trEn2L = supervisor.createTransition(300,yPos+250,"Step"+stepID+".T>1");
		stepID++;
		GCStep s2L = supervisor.createStep(100,yPos+300,"Step"+stepID,"S index = index+1;");
		GCTransition trL = supervisor.createTransition(100,yPos+400,"index>nrOfShoes");
		GCTransition trBackL = supervisor.createTransition(300,yPos+400,"index<=nrOfShoes");
		stepID++;
		GCStep s3L = supervisor.createStep(100,yPos+450,"Step"+stepID,"S index = 1;");
		GCTransition tr2L = supervisor.createTransition(100,yPos+550,"1");
		stepID++;
		supervisor.connect(tr2K,s0L);
		supervisor.connect(s0L,trNotEnL);
		supervisor.connect(s0L,trEn1L);
		supervisor.connect(trEn1L,s1L);
		supervisor.connect(s1L,trEn2L);
		supervisor.connect(trNotEnL,s2L);
		supervisor.connect(trEn2L,s2L);
		supervisor.connect(s2L,trBackL);
		supervisor.connect(s2L,trL);
		supervisor.connect(trBackL,s0L);
		supervisor.connect(trL,s3L);
		supervisor.connect(s3L,tr2L);

		supervisor.connect(tr2L,sA);
	}
}