%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                                                  %%
%% This is file `cdesbook.sty' for use with the book format.        %%
%%                                                                  %%
%% Modified by Knut Åkesson 2004                                    %%
%%                                                                  %%
%% Modified by Lars Eriksson 980814 Model environment added.        %%
%%            Continuously modified 99, 00, 02                      %%
%%            Adopted for GrönaBilen 2004-02-16                     %%
%%                                                                  %%
%%                                                                  %%
%% Written by P. Lindskog for LaTeX2e.                              %%
%%            Department of Electrical Engineering                  %%
%%            Linköping University                                  %%
%%            S-581 83 Linköping                                    %%
%%            SWEDEN                                                %%
%%                                                                  %%
%%------------------------------------------------------------------%%
%%                                                                  %%
%% The thesis package requires the packages:                        %%
%%            babel                 - Language support.             %%
%%            inputenc[latin1]      - Enable swedish characters.    %%
%%            fancyheadings         - Headers and footers.          %%
%%            xspace                - Gentle spacing after macro.   %%
%%            varioref              - Flexible cross-references.    %%
%%            ulem                  - Extended underlining.         %%
%%            color[dvips]          - Color coding.                 %%
%%            graphicx              - Graphics.                     %%
%%            psfrag                - Graphics.                     %%
%%            latexsym              - Special LaTeX symbols.        %%
%%            amstex                - Advanced mathematics.         %%
%%            theorem               - Theorems, definitions etc.    %%
%%            supertabular          - Advanced tabular.             %%
%%            citesort              - Sort references.              %%
%%                                                                  %%
%%------------------------------------------------------------------%%
%%                                                                  %%
%% ABBREVIATIONS:                                                   %%
%%            \eg     e.g.,                                         %%
%%            \etal   et al.                                        %%
%%            \etc    etc.                                          %%
%%            \ie     i.e.,                                         %%
%%                                                                  %%
%%------------------------------------------------------------------%%
%%                                                                  %%
%% GRAY SCALES:                                                     %%
%%            black                 - Black.                        %%
%%            gray50                - Dark gray.                    %%
%%            gray62                -                               %%
%%            gray75                -                               %%
%%            gray87                - Light gray.                   %%
%%                                                                  %%
%%------------------------------------------------------------------%%
%%                                                                  %%
%% COLORED BOXES:                                                   %%
%%            \cbox{SPACE}{BACKGROUND}{TEXT}                        %%
%%            \fbox{SPACE}{FRAME}{BACKGROUND}{TEXT}                 %%
%%                                                                  %%
%%------------------------------------------------------------------%%
%%                                                                  %%
%% BOLD FACE MATHEMATICS:                                           %%
%%            \mbf{MATH}            - Bold face normal size char.   %%
%%            \mbfs{MATH}           - Bold face script size char.   %%
%%            \mbfss{MATH}          - Bold face script^2 size char. %%
%%                                                                  %%
%%------------------------------------------------------------------%%
%%                                                                  %%
%% LABELS AND OPERATORS IN MATH MODE:                               %%
%%            \lex                  - Lexicographic monomial ord.   %%
%%            \mdeg                 - Multidegree.                  %%
%%            \lc                   - Leading coefficient.          %%
%%            \lm                   - Leading monomial.             %%
%%            \lt                   - Leading term.                 %%
%%            \rem                  - Remainder.                    %%
%%            \lcm                  - Least common multiple.        %%
%%            \Spoly                - S-polynomial.                 %%
%%            \GB                   - Reduced Gröbner basis.        %%
%%            \tdeg                 - Total degree.                 %%
%%            \ld                   - Leader.                       %%
%%            \lv                   - Leading variable.             %%
%%            \chs                  - Characteristic set.           %%
%%            \sep                  - Separant.                     %%
%%            \init                 - Initial.                      %%
%%            \lu                   - Highest unreduced der.        %%
%%            \lp                   - Highest degree term.          %%
%%            \lj                   - Monomial coeffidient.         %%
%%            \arccot               - Arcus cotangens.              %%
%%            \arcsec               - Arcus secant.                 %%
%%            \arccsc               - Arcus cosecant.               %%
%%                                                                  %%
%%------------------------------------------------------------------%%
%%                                                                  %%
%% CORRECT SPACING IN TABULAR ENVIRONMENT:                          %%
%%            \tabbox{TEXT}         - Especially useful for maths.  %%
%%                                                                  %%
%%------------------------------------------------------------------%%
%%                                                                  %%
%% MATLAB FIGURE SCALE FACTOR FOR SCALING TEXT ONLY:                %%
%%            \sf                   - Default value is .75.         %%
%%                                                                  %%
%%------------------------------------------------------------------%%
%%                                                                  %%
%% ENVIRONMENTS:                                                    %%
%%      a.    \begin{definition}[EXPLANATION]                       %%
%%              THE DEFINITION.                                     %%
%%            \end{definition}                                      %%
%%      b.    \begin{lemma}[EXPLANATION]                            %%
%%              THE LEMMA.                                          %%
%%            \end{lemma}                                           %%
%%      c.    \begin{theorem}[EXPLANATION]                          %%
%%              THE THEOREM.                                        %%
%%            \end{theorem}                                         %%
%%      d.    \begin{prof}[EXPLANATION]                             %%
%%              THE PROOF.                                          %%
%%            \end{proof}                                           %%
%%      e.    \begin{example}[EXPLANATION]                          %%
%%              THE EXAMPLE.                                        %%
%%            \end{example}                                         %%
%%      f.    \begin{requirement}[EXPLANATION]                      %%
%%              THE REQUIREMENT.                                    %%
%%            \end{requirement}                                     %%
%%      g.    \begin{exercise}[EXPLANATION]                         %%
%%              THE EXERCISE.                                       %%
%%            \end{exercise   }                                     %%
%%                                                                  %%
%%------------------------------------------------------------------%%
%%                                                                  %%
%% INDEX:                                                           %%
%%            \makeindex{LABEL}     - Create index: thesisLABEL.idx.%%
%%            \index{LABEL}{ENTRY}  - Create index entry.           %%
%%            \printindex{LABEL}{NAME} - Display the index here.    %%
%%                                                                  %%
%%------------------------------------------------------------------%%
%%                                                                  %%
%% FIGURES: (The amount of the page allowed to be a float.)         %%
%%            \setfloatfraction{FLOAT SIZE}{TEXT SIZE}              %%
%% Default is \setfloatfraction{0.8}{0.2}, which means that         %%
%% floats may occupy 80% of the total page space.                   %%
%%                                                                  %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{cdesbook}
%%
%% Import packages
%%
\RequirePackage{fancyhdr}% Replaces fancyheadings
%\RequirePackage{fancyheadings}
\RequirePackage{xspace}
\RequirePackage{ulem}
\RequirePackage{theorem}
\RequirePackage{epsfig}
\RequirePackage{psfrag}
\RequirePackage{graphicx}
\RequirePackage[latin1]{inputenc}
\RequirePackage{makeidx}
%\RequirePackage{chicago}
\RequirePackage{amsmath}


%% 
%% Font settings
%%
\RequirePackage{euler}           % Math:       euler
\renewcommand{\rmdefault}{ppl}   % Roman:      palatino
%\renewcommand{\sfdefault}{cmss} % Sansserif:  computer modern
\renewcommand{\sfdefault}{pag}   % Sansserif:  avantgarde
\renewcommand{\ttdefault}{pcr}   % Typewriter: courier



%%
%% Titlepage
%%
\renewcommand{\maketitle}{\begin{titlepage}%
    \begin{center}
      \large{\schoolname}
      \par\bigskip\bigskip
      \par\bigskip\bigskip
      \par\bigskip\bigskip
      \par\bigskip\bigskip
      \huge\textbf{\thesisname}
      \par\bigskip\smallskip
      \large{\authorname}
      \vfill
      \theLogo
      \vfill
      \releaseplace~\releaseyear
    \end{center}
  \end{titlepage}
  \thispagestyle{empty}
  \cleardoublepage
  }



%%
%% Copyrightpage
%%
\def\addressc{\textit{Address}}
\def\isbnnumb{\textit{???????}}
\def\issnnumb{\textit{???????}}
\def\printer{\textit{Printer}}
\newcommand{\copyrightpage}{%
  \clearpage
  \thispagestyle{empty}
  \hspace*{1mm}
  \vfill
  \begin{center}
    \textbf{\thesisname}
    \par\bigskip
    \copyright~\releaseyear~\authorname
    \par\bigskip
    \addressc
    \par\bigskip\bigskip
    ISBN~\isbnnumb
    \hspace*{10mm}
    ISSN~\issnnumb
    \par\bigskip\bigskip
    Printed in Sweden by~\printer
  \end{center}
  \cleardoublepage
  }


%%
%% Misc.
%%
\newcommand{\indx}[1]{\index{#1}#1} % Index-command
\newenvironment{pararray}[1][c]{\left ( \begin{array}{#1}}{\end{array} \right )}
\newenvironment{brarray}[1][c]{\left[ \begin{array}{#1}}{\end{array} \right]}


%%
%% Page layout
%%
\setlength{\textwidth}      {145.0mm}    
\setlength{\oddsidemargin}  { 14.0mm}     % Subject to change
\setlength{\evensidemargin} {  0.0mm}     % Subject to change
\setlength{\textheight}     {220.0mm}    
\setlength{\hoffset}        {  0.0mm}     % Subject to change
\setlength{\voffset}        {  0.0mm}     % Subject to change

%%
%% DEFINE TEXT STRINGS.
%%
\def\definitionname{Definition}
\def\lemmaname{Lemma}
\def\theoremname{Theorem}
\def\proofname{Proof}
\def\examplename{Example}
\def\requirementname{Requirement}
\def\algorithmname{Algorithm}
\def\modelname{Model}



%%
%% Abbreviations
%%
\newcommand{\eg}{e.g.,\xspace}
\newcommand{\etal}{et~al.\@\xspace}
\newcommand{\etc}{etc.\@\xspace}
\newcommand{\ie}{i.e.,\xspace}


%%
%% BOLD FACE MATHEMATICS.
%%
\def\mbf#1{\mbox{\boldmath $#1$}}
\def\mbfs#1{\mbox{\boldmath $\scriptstyle#1$}}
\def\mbfss#1{\mbox{\boldmath $\scriptscriptstyle#1$}}


%%
%% CORRECT SPACING IN TABULAR ENVIRONMENT.
%%
\newlength{\@tabboxheight}
\newlength{\@tabstretch}
\ifnum\@ptsize=0\setlength{\@tabstretch}{5.00\p@}\fi
\ifnum\@ptsize=1\setlength{\@tabstretch}{4.62\p@}\fi
\ifnum\@ptsize=2\setlength{\@tabstretch}{5.76\p@}\fi
\def\tabbox#1{%
  \setbox\@tempboxa\hbox{#1}%
  \setlength{\@tabboxheight}{\ht\@tempboxa}%
  \addtolength{\@tabboxheight}{\dp\@tempboxa}%
  \addtolength{\@tabboxheight}{\@tabstretch}%
  \parbox[c][\@tabboxheight]{\wd\@tempboxa}{#1}%
}


%%
%% Headers and footers
%%
\@ifundefined{chapter}{}{%
  \pagestyle{fancyplain}
  \renewcommand{\chaptermark}[1]
  {\markboth{\@chapapp \ \thechapter \ \ \ #1}{}}
  \renewcommand{\sectionmark}[1]
  {\markright{\thesection\ #1}}
  \lhead[\fancyplain{}{\textit\thepage}]
  {\fancyplain{}{\textit\rightmark}}
  \rhead[\fancyplain{}{\textit\leftmark}]
  {\fancyplain{}{\textit\thepage}}
  \cfoot{}
  
  %%
  %% Chapterheadings
  %%
  \long\def\@makechapterhead#1{%
    \vspace*{14mm}
    \vbox to 80\p@{
      \vfil
      \ifnum \c@secnumdepth >\m@ne
      \if@mainmatter
      \hrule width \textwidth height 1.2pt\vspace*{1.0pt}
      \hrule width \textwidth height .3pt
      \vspace*{12.0pt}
      \begin{flushright}
        \textsf{
          \Large{\@chapapp\space\thechapter\\}
          \vspace{6.0pt}
          \huge\textbf{#1}
          }
      \end{flushright}
      \vspace*{12.0pt}
      \hrule width \textwidth height .3pt\vspace*{1.0pt}
      \hrule width \textwidth height 1.2pt \par\bigskip
      \fi
      \fi
      }
    \vbox to 100\p@{
      \vfil
      }
    \nobreak \vskip 10\p@
    }

  \long\def\@makeschapterhead#1{%
    \vspace*{14mm}
    \vbox to 80\p@{
      \vfil
      \hrule width \textwidth height 1.2pt\vspace*{1.0pt}
      \hrule width \textwidth height 0.3pt \par\bigskip
      }
    \vbox to 100\p@{
      \begin{flushright}
        \textsf{\huge\textbf{#1}}
      \end{flushright}
      \vfil
      }
    \nobreak \vskip 10\p@
    }
  }


%%
%% The chapter-quote environment,
%% to be used only right after a \chapter{} command...
%%
\newenvironment{chapter-quote}
{\list{}{}%
\vspace{-80pt}
\begin{flushright}\itshape
\item[]}
{\end{flushright}\endlist}



%%
%% Redefine the captions (e.g. Figures)
%%
\long\def\@makecaption#1#2{%
  \vskip\abovecaptionskip
  \sbox\@tempboxa{\textsl{\textbf{#1\ } #2}}%
  \ifdim \wd\@tempboxa >\hsize
    \textsl{\textbf{#1\ } #2}\par
  \else
    \global \@minipagefalse
    \hbox to\hsize{\hfil\box\@tempboxa\hfil}%
  \fi
  \vskip\belowcaptionskip}

%%
%% FLOATING POINT CHANGES.
%%
\newcommand{\setfloatfraction}[2]{
  \renewcommand{\floatpagefraction}{#1}
  \renewcommand{\topfraction}{#1}
  \renewcommand{\bottomfraction}{#1}
  \renewcommand{\textfraction}{#2}
}


%%
%% ENVIRONMENTS.
%%
%\theoremheaderfont{\slshape\bfseries}
%\theorembodyfont{\slshape}
\newtheorem{definition}{Definition}[chapter]
%\newtheorem{lemma}{Lemma}[chapter]
%\newtheorem{theorem}{Theorem}[chapter]
%\newenvironment{proof}[1][]{
%  \begin{list}{}{%
%    \setlength{\topsep}{\theorempreskipamount}
%    \setlength{\leftmargin}{0pt}
%    \setlength{\rightmargin}{\leftmargin}
%    \setlength{\labelwidth}{0pt}
%    \setlength{\labelsep}{0pt}
%  }
%  \item[] {\setbox\@tempboxa\hbox{#1}
%           \slshape\bfseries
%           \ifdim\wd\@tempboxa > 0pt \proofname~(#1)
%           \else\proofname\fi
%           \hspace*{0.5em}
%          }\slshape
%}{
%    \hfill$\Box$\end{list}
%}
\newcounter{Example}[chapter]
\renewcommand{\theExample}{\thechapter.\arabic{Example}}
\newenvironment{example}[1][]{
  \refstepcounter{Example}
  \begin{list}{}{%
    \setlength{\topsep}{\theorempreskipamount}
    \setlength{\leftmargin}{0pt}
    \setlength{\rightmargin}{\leftmargin}
    \setlength{\labelwidth}{0pt}
    \setlength{\labelsep}{0pt}
    \setlength{\parsep}{0pt}
  }
  \item[] \hrule width \textwidth height 1.2pt \vspace*{1.0pt}%
          \hrule width \textwidth height .3pt
          \par\smallskip
          {\setbox\@tempboxa\hbox{#1}
           \slshape\bfseries
           \ifdim\wd\@tempboxa > 0pt \examplename~\theExample~(#1)
           \else\examplename~\theExample\fi
           \hspace*{0.5em}
          }\slshape
}{\par\smallskip
  \hrule width \textwidth height .3pt
  \end{list}
}
%% The exercise environment.

%% The modelenvironment from MagnusP.
\newcounter{Model}[chapter]
\renewcommand{\theModel}{\thechapter.\arabic{Model}}
%\renewcommand{\theModel}{}
\newenvironment{model}[1][]{
  \refstepcounter{Model}
  \begin{list}{}{%
    \setlength{\topsep}{\theorempreskipamount}
    \setlength{\leftmargin}{0pt}
    \setlength{\rightmargin}{\leftmargin}
    \setlength{\labelwidth}{0pt}
    \setlength{\labelsep}{0pt}
    \setlength{\parsep}{0pt}
  } %
  \item[] \hrule width \textwidth height 1.2pt %
          \par\smallskip
          {\setbox\@tempboxa\hbox{#1}
           %\slshape\bfseries
           \sffamily\bfseries
           \ifdim\wd\@tempboxa > 0pt \modelname~\theModel~#1
           \else\modelname~\theModel\fi
          }\slshape
          \par\smallskip
          \hrule width \textwidth height .3pt
          \par\smallskip
          \slshape
}{\par\smallskip
  \hrule width \textwidth height .3pt
  \end{list}
}

%\newtheorem{requirement}{Requirement}[chapter]
%\newcounter{Algorithm}[chapter]
%\renewcommand{\theAlgorithm}{\thechapter.\arabic{Algorithm}}
%\newenvironment{algorithm}[1][]{
%  \refstepcounter{Algorithm}
%  \begin{list}{}{%
%    \setlength{\topsep}{\theorempreskipamount}
%    \setlength{\leftmargin}{0pt}
%    \setlength{\rightmargin}{\leftmargin}
%    \setlength{\labelwidth}{0pt}
%    \setlength{\labelsep}{0pt}
%    \setlength{\parsep}{0pt}
%  }
%  \item[] \hrule width \textwidth height 1.2pt
%          \par\smallskip
%          {\setbox\@tempboxa\hbox{#1}
%           \slshape\bfseries
%           \ifdim\wd\@tempboxa > 0pt \algorithmname~\theAlgorithm~(#1)
%           \else\algorithmname~\theAlgorithm\fi
%          }\slshape
%          \par\smallskip
%          \hrule width \textwidth height .3pt
%          \par\smallskip
%          \slshape
%}{\par\smallskip
%  \hrule width \textwidth height .3pt
%  \end{list}
%}
%\renewcommand{\tableofcontents}{
%  \if@twocolumn\@restonecoltrue\onecolumn
%  \else\@restonecolfalse\fi
%  \chapter*{\contentsname}
%  \@starttoc{toc}
%  \if@restonecol\twocolumn\fi
%  \markboth{\contentsname}{\contentsname}
%  \cleardoublepage
%}
%\renewcommand{\listoffigures}{
%  \if@twocolumn\@restonecoltrue\onecolumn
%  \else\@restonecolfalse\fi
%  \chapter*{\listfigurename}
%  \@starttoc{lof}
%  \if@restonecol\twocolumn\fi
%  \markboth{\listfigurename}{\listfigurename}
%  \cleardoublepage
%}
%\renewcommand{\listoftables}{
%  \if@twocolumn\@restonecoltrue\onecolumn
%  \else\@restonecolfalse\fi
%  \chapter*{\listtablename}
%  \@starttoc{lot}
%  \if@restonecol\twocolumn\fi
%  \markboth{\listtablename}{\listtablename}
%  \cleardoublepage
%}
%\renewenvironment{thebibliography}[1]{
%  \chapter*{\bibname}
%  \addcontentsline{toc}{chapter}{\bibname}
%  \list{\@biblabel{\arabic{enumiv}}}%
%    {\settowidth\labelwidth{\@biblabel{#1}}%
%     \leftmargin\labelwidth
%    \advance\leftmargin\labelsep
%     \if@openbib
%       \advance\leftmargin\bibindent
%       \itemindent -\bibindent
%       \listparindent \itemindent
%       \parsep \z@
%     \fi
%     \usecounter{enumiv}%
%     \let\p@enumiv\@empty
%     \renewcommand{\theenumiv}{\arabic{enumiv}}
%    }%
%    \if@openbib
%      \renewcommand{\newblock}{\par}
%    \else
%      \renewcommand{\newblock}{\hskip .11em \@plus.33em \@minus.07em}%
%    \fi
%    \sloppy\clubpenalty4000\widowpenalty4000%
%    \sfcode`\.=\@m
%    \markboth{\bibname}{\bibname}
%}{
%  \def\@noitemerr
%  {\@latex@warning{Empty `thebibliography' environment}}%
%  \endlist
%}


%%
%% FOOTNOTES. CHANGE THE LENGTH OF THE FOOTNOTE RULER.
%%
\renewcommand{\footnoterule}{\vspace*{-3pt}
  \noindent\rule{.5\textwidth}{.5pt}\vspace*{2.6pt}
}


%%
%% INITIALIZATION.
%%
\normalem
\setfloatfraction{0.8}{0.2}

%%
%% End of file `thesis.sty'
